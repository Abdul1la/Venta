[{"filePath":"C:\\Users\\NIPEAL\\Desktop\\ClothingStore\\my-react-app\\src\\features\\warehouse\\WarehouseLayout.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Icon' is defined but never used.","line":6,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":38,"suggestions":[{"messageId":"removeVar","data":{"varName":"Icon"},"fix":{"range":[333,345],"text":""},"desc":"Remove unused variable 'Icon'."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  35 |   // Close menu on route change\n  36 |   useEffect(() => {\n> 37 |     setMobileMenuOpen(false);\n     |     ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  38 |   }, [location.pathname]);\n  39 |\n  40 |   const handleLogout = () => {","line":37,"column":5,"nodeType":null,"endLine":37,"endColumn":22}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Outlet, NavLink, useNavigate, useLocation } from 'react-router-dom';\r\nimport { LayoutDashboard, Store, Package, CreditCard, LogOut, Menu, X, Settings } from 'lucide-react';\r\nimport { useState, useEffect } from 'react';\r\nimport NotificationCenter from '../../components/admin/NotificationCenter';\r\n\r\nconst SidebarItem = ({ to, icon: Icon, label, onClick }) => (\r\n  <NavLink \r\n    to={to} \r\n    onClick={onClick}\r\n    className={({ isActive }) => \r\n      `btn ${isActive ? 'active' : ''}`\r\n    }\r\n    style={({ isActive }) => ({\r\n      width: '100%',\r\n      justifyContent: 'flex-start',\r\n      padding: '12px 16px',\r\n      background: isActive ? 'var(--color-bg-app)' : 'transparent',\r\n      color: isActive ? 'var(--color-primary)' : 'var(--color-text-secondary)',\r\n      marginBottom: '8px',\r\n      borderRadius: 'var(--radius-md)',\r\n      fontWeight: isActive ? 600 : 500,\r\n      boxShadow: 'none'\r\n    })}\r\n  >\r\n    <Icon size={20} style={{ marginRight: '12px' }} />\r\n    {label}\r\n  </NavLink>\r\n);\r\n\r\nconst WarehouseLayout = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n\r\n  // Close menu on route change\r\n  useEffect(() => {\r\n    setMobileMenuOpen(false);\r\n  }, [location.pathname]);\r\n\r\n  const handleLogout = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh', flexDirection: 'column', overflow: 'hidden' }}>\r\n      \r\n      {/* MOBILE HEADER */}\r\n      <div className=\"mobile-only\" style={{ \r\n        padding: '16px', background: '#FFF', borderBottom: '1px solid #eee', \r\n        display: 'flex', alignItems: 'center', justifyContent: 'space-between', zIndex: 100 \r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n          <button onClick={() => setMobileMenuOpen(true)} style={{ border: 'none', background: 'transparent', padding: 0 }}>\r\n             <Menu size={24} color=\"#333\" />\r\n          </button>\r\n          <span style={{ fontWeight: 'bold', fontSize: '18px' }}>Venta Admin</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', flex: 1, overflow: 'hidden', position: 'relative' }}>\r\n        \r\n        {/* OVERLAY for Mobile */}\r\n        {mobileMenuOpen && (\r\n          <div \r\n            onClick={() => setMobileMenuOpen(false)}\r\n            style={{ \r\n              position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.5)', zIndex: 40 \r\n            }} \r\n          />\r\n        )}\r\n\r\n        {/* SIDEBAR */}\r\n        <aside \r\n          className={mobileMenuOpen ? 'sidebar-open' : 'sidebar-closed'}\r\n          style={{ \r\n            width: '260px', \r\n            background: '#fff', \r\n            borderRight: '1px solid var(--color-border)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '24px',\r\n            position: window.innerWidth <= 768 ? 'absolute' : 'relative',\r\n            height: '100%',\r\n            zIndex: 50,\r\n            transform: (window.innerWidth <= 768 && !mobileMenuOpen) ? 'translateX(-100%)' : 'translateX(0)',\r\n            transition: 'transform 0.3s ease',\r\n            boxShadow: mobileMenuOpen ? '4px 0 24px rgba(0,0,0,0.1)' : 'none'\r\n          }}\r\n        >\r\n          <div style={{ marginBottom: '40px', paddingLeft: '16px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div>\r\n              <h2 style={{ fontSize: '20px', fontWeight: 'bold', color: 'var(--color-primary)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <span style={{ background: 'var(--color-primary)', color: 'white', borderRadius: '6px', padding: '2px 6px', fontSize: '14px' }}>W</span>\r\n                Venta\r\n              </h2>\r\n              <span style={{ fontSize: '12px', color: '#999', fontWeight: 500 }}>Warehouse Admin</span>\r\n            </div>\r\n            {/* Close but only visible on mobile inside sidebar */}\r\n            {mobileMenuOpen && (\r\n              <button \r\n                onClick={() => setMobileMenuOpen(false)}\r\n                className=\"btn mobile-only\" \r\n                style={{ padding: '8px', background: '#F5F5F7' }}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <nav style={{ flex: 1 }}>\r\n            <SidebarItem to=\"/warehouse\" icon={LayoutDashboard} label=\"Dashboard\" />\r\n            <SidebarItem to=\"/warehouse/branches\" icon={Store} label=\"Branches\" />\r\n            <SidebarItem to=\"/warehouse/settings\" icon={Settings} label=\"Settings\" />\r\n          </nav>\r\n\r\n          <button \r\n            onClick={handleLogout}\r\n            className=\"btn\"\r\n            style={{ \r\n              justifyContent: 'flex-start', \r\n              color: 'var(--color-error)', \r\n              padding: '12px 16px',\r\n              background: 'transparent',\r\n              marginTop: 'auto' \r\n            }}\r\n          >\r\n            <LogOut size={20} style={{ marginRight: '12px' }} />\r\n            Sign Out\r\n          </button>\r\n        </aside>\r\n\r\n        {/* Main Content Area with Header */}\r\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\r\n            <header style={{ \r\n                height: '64px', background: '#FFF', borderBottom: '1px solid var(--color-border)', \r\n                display: 'flex', alignItems: 'center', justifyContent: 'flex-end', padding: '0 32px' \r\n            }}>\r\n                <NotificationCenter />\r\n                <div style={{ width: '1px', height: '20px', background: '#EEE', margin: '0 20px' }} />\r\n                <div style={{ fontSize: '13px', fontWeight: 600, color: '#333' }}>Admin</div>\r\n            </header>\r\n            <main className=\"main-content\" style={{ flex: 1, overflowY: 'auto', padding: '32px', background: 'var(--color-bg-app)' }}>\r\n              <Outlet />\r\n            </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarehouseLayout;\r\n","usedDeprecatedRules":[]}]
